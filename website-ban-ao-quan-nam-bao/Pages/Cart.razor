@page "/cart"
@using website_ban_ao_quan_nam_bao.Models
@using website_ban_ao_quan_nam_bao.Services
@inject CartService CartService
@inject NavigationManager Navigation

<PageTitle>Cart</PageTitle>

<div class="container mt-4">
    <h1 class="text-center mb-5">Giỏ hàng của bạn</h1>

    @if (CartService.GetCartItems().Any())
    {
        <div class="text-center">
            <div class="cart-items">
                @foreach (var item in CartService.GetCartItems())
                {
                    <div class="cart-item">
                        <img src="@item.Product.ImageUrl" alt="@item.Product.Name" />
                        <h4>@item.Product.Name</h4>
                        <p>Giá: @item.Product.Price.ToString("C")</p>
                        <p>Số lượng: @item.Quantity</p>
                    </div>
                }
            </div>
            <div class="cart-buttons">
                <button class="clear-cart-button" @onclick="ClearCart">Xóa giỏ hàng</button>
                <button class="checkout-button" @onclick="ProceedToCheckout">Thanh toán</button>
            </div>
        </div>
    }
    else
    {
        <p class="text-center">Giỏ hàng của bạn trống.</p>
    }
</div>

@code {
    private void ClearCart()
    {
        CartService.ClearCart();
    }

    private void ProceedToCheckout()
    {
        // Logic chuyển đến trang thanh toán
        Navigation.NavigateTo("/checkout");
    }
}
